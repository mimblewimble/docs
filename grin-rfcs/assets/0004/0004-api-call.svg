<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="744px" preserveAspectRatio="none" style="width:745px;height:744px;" version="1.1" viewBox="0 0 745 744" width="745px" zoomAndPan="magnify"><defs><filter height="300%" id="f1hsv8thv8xcyq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="199" x="268.5" y="23.0059">Wallet API Call via JSON-RPC</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="29" x2="29" y1="117.5999" y2="657"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="254.5" x2="254.5" y1="117.5999" y2="657"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="418.5" x2="418.5" y1="117.5999" y2="657"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="583" x2="583" y1="117.5999" y2="657"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="8" y="113.8059">Client</text><ellipse cx="29" cy="43.7999" fill="#FEFECE" filter="url(#f1hsv8thv8xcyq)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M29,51.7999 L29,78.7999 M16,59.7999 L42,59.7999 M29,78.7999 L16,93.7999 M29,78.7999 L42,93.7999 " fill="none" filter="url(#f1hsv8thv8xcyq)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="8" y="669.006">Client</text><ellipse cx="29" cy="682.8" fill="#FEFECE" filter="url(#f1hsv8thv8xcyq)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M29,690.8 L29,717.8 M16,698.8 L42,698.8 M29,717.8 L16,732.8 M29,717.8 L42,732.8 " fill="none" filter="url(#f1hsv8thv8xcyq)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1hsv8thv8xcyq)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="169.5" y="81.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="176.5" y="101.8059">JSON-RPC API (if used)</text><rect fill="#FEFECE" filter="url(#f1hsv8thv8xcyq)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="169.5" y="656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="176.5" y="676.006">JSON-RPC API (if used)</text><rect fill="#FEFECE" filter="url(#f1hsv8thv8xcyq)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="356.5" y="81.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="363.5" y="101.8059">Internal Rust API</text><rect fill="#FEFECE" filter="url(#f1hsv8thv8xcyq)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="356.5" y="656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="363.5" y="676.006">Internal Rust API</text><rect fill="#FEFECE" filter="url(#f1hsv8thv8xcyq)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="525" y="81.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="532" y="101.8059">Wallet Backend</text><rect fill="#FEFECE" filter="url(#f1hsv8thv8xcyq)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="525" y="656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="532" y="676.006">Wallet Backend</text><rect fill="#EEEEEE" filter="url(#f1hsv8thv8xcyq)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="730" x="3" y="148.3999"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="733" y1="148.3999" y2="148.3999"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="733" y1="151.3999" y2="151.3999"/><rect fill="#EEEEEE" filter="url(#f1hsv8thv8xcyq)" height="23.6" style="stroke: #000000; stroke-width: 2.0;" width="68" x="334" y="137.5999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="340" y="153.6769">API Call</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="71" y1="192.7999" y2="192.7999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71" x2="71" y1="192.7999" y2="205.7999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="30" x2="71" y1="205.7999" y2="205.7999"/><polygon fill="#A80036" points="40,201.7999,30,205.7999,40,209.7999,36,205.7999" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="36" y="187.2769">Supply stored token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="4" x="156" y="187.2769">t</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="10" x="164" y="187.2769">in</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="178" y="187.2769">req</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="202" y="187.2769">as</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="220" y="187.2769">req.t</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="71" y1="235.3999" y2="235.3999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71" x2="71" y1="235.3999" y2="248.3999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="30" x2="71" y1="248.3999" y2="248.3999"/><polygon fill="#A80036" points="40,244.3999,30,248.3999,40,252.3999,36,248.3999" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="36" y="229.8769">enc(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="61" y="229.8769">req</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="81" y="229.8769">,</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="89" y="229.8769">s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="96" y="229.8769">) -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="120" y="229.8769">reqEnc</text><polygon fill="#A80036" points="243,273.9999,253,277.9999,243,281.9999,247,277.9999" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="249" y1="277.9999" y2="277.9999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="36" y="272.4769">call_api_function(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="137" y="272.4769">reqEnc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="181" y="272.4769">)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="307.5999" y2="307.5999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="307.5999" y2="320.5999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="320.5999" y2="320.5999"/><polygon fill="#A80036" points="266,316.5999,256,320.5999,266,324.5999,262,320.5999" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="262" y="302.0769">dec(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="287" y="302.0769">reqEnc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="331" y="302.0769">,</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="339" y="302.0769">s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="346" y="302.0769">) -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="370" y="302.0769">req</text><polygon fill="#A80036" points="407,346.1999,417,350.1999,407,354.1999,411,350.1999" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="413" y1="350.1999" y2="350.1999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="262" y="344.6769">call_api_function(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="363" y="344.6769">req</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="383" y="344.6769">)</text><polygon fill="#A80036" points="571,375.7999,581,379.7999,571,383.7999,575,379.7999" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="577" y1="379.7999" y2="379.7999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="426" y="374.2769">retrieve_seed(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="508" y="374.2769">req.t</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="540" y="374.2769">as</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="4" x="558" y="374.2769">t</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="562" y="374.2769">)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="583" x2="625" y1="409.4" y2="409.4"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="625" x2="625" y1="409.4" y2="422.4"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="584" x2="625" y1="422.4" y2="422.4"/><polygon fill="#A80036" points="594,418.4,584,422.4,594,426.4,590,422.4" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="590" y="403.877">calc(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="4" x="618" y="403.877">t</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="626" y="403.877">^</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="636" y="403.877">seedT</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="673" y="403.877">) -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="697" y="403.877">seed</text><polygon fill="#A80036" points="571,448,581,452,571,456,575,452" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="577" y1="452" y2="452"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="426" y="446.477">Internal Wallet Calls</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="583" x2="625" y1="481.6" y2="481.6"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="625" x2="625" y1="481.6" y2="494.6"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="584" x2="625" y1="494.6" y2="494.6"/><polygon fill="#A80036" points="594,490.6,584,494.6,594,498.6,590,494.6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="590" y="476.077">Drop</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="621" y="476.077">seed</text><polygon fill="#A80036" points="266,520.2,256,524.2,266,528.2,262,524.2" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="260" x2="418" y1="524.2" y2="524.2"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="272" y="518.677">Return (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="318" y="518.677">resp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="345" y="518.677">)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="255" x2="297" y1="553.8" y2="553.8"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297" x2="297" y1="553.8" y2="566.8"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="256" x2="297" y1="566.8" y2="566.8"/><polygon fill="#A80036" points="266,562.8,256,566.8,266,570.8,262,566.8" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="262" y="548.277">enc(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="287" y="548.277">resp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="314" y="548.277">,</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="322" y="548.277">s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="329" y="548.277">) -&gt; (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="357" y="548.277">respEnc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="408" y="548.277">)</text><polygon fill="#A80036" points="40,592.4,30,596.4,40,600.4,36,596.4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="254" y1="596.4" y2="596.4"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="46" y="590.877">Return (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="92" y="590.877">respEnc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="143" y="590.877">)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="71" y1="626" y2="626"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71" x2="71" y1="626" y2="639"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="30" x2="71" y1="639" y2="639"/><polygon fill="#A80036" points="40,635,30,639,40,643,36,639" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="36" y="620.477">dec(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="61" y="620.477">s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="68" y="620.477">,</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="76" y="620.477">respEnc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="127" y="620.477">) -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="151" y="620.477">resp</text><!--
@startuml
actor "Client" as client
participant "JSON-RPC API (if used)" as jsonrpc
participant "Internal Rust API" as rustapi
participant "Wallet Backend" as backend

title Wallet API Call via JSON-RPC


== API Call ==
client -> client: Supply stored token **t** in **req** as **req.t**
client -> client: enc(**req**, **s**) -> **reqEnc**
client -> jsonrpc: call_api_function(**reqEnc**)
jsonrpc -> jsonrpc: dec(**reqEnc**, **s**) -> **req**
jsonrpc -> rustapi: call_api_function(**req**)
rustapi -> backend: retrieve_seed(**req.t** as **t**)
backend -> backend: calc(**t** ^ **seedT**) -> **seed**
rustapi -> backend: Internal Wallet Calls
backend -> backend: Drop **seed**
rustapi -> jsonrpc: Return (**resp**)
jsonrpc -> jsonrpc: enc(**resp**, **s**) -> (**respEnc**)
jsonrpc -> client: Return (**respEnc**)
client -> client: dec(**s**, **respEnc**) -> **resp**
@enduml

PlantUML version 1.2019.06(Fri May 24 18:10:25 IST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 12.0.1+12
Operating System: Linux
OS Version: 5.1.11-arch1-1-ARCH
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>