<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="655px" preserveAspectRatio="none" style="width:670px;height:655px;" version="1.1" viewBox="0 0 670 655" width="670px" zoomAndPan="magnify"><defs><filter height="300%" id="f1eig2f90vuw0f" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="234" x="213.5" y="23.0059">Opening a Wallet (Directly Linked)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="29" x2="29" y1="117.5999" y2="568.2"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="292.5" x2="292.5" y1="117.5999" y2="568.2"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="468" x2="468" y1="117.5999" y2="568.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="8" y="113.8059">Client</text><ellipse cx="29" cy="43.7999" fill="#FEFECE" filter="url(#f1eig2f90vuw0f)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M29,51.7999 L29,78.7999 M16,59.7999 L42,59.7999 M29,78.7999 L16,93.7999 M29,78.7999 L42,93.7999 " fill="none" filter="url(#f1eig2f90vuw0f)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="8" y="580.2059">Client</text><ellipse cx="29" cy="593.9999" fill="#FEFECE" filter="url(#f1eig2f90vuw0f)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M29,601.9999 L29,628.9999 M16,609.9999 L42,609.9999 M29,628.9999 L16,643.9999 M29,628.9999 L42,643.9999 " fill="none" filter="url(#f1eig2f90vuw0f)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1eig2f90vuw0f)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="230.5" y="81.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="237.5" y="101.8059">Internal Rust API</text><rect fill="#FEFECE" filter="url(#f1eig2f90vuw0f)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="230.5" y="567.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="237.5" y="587.2059">Internal Rust API</text><rect fill="#FEFECE" filter="url(#f1eig2f90vuw0f)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="410" y="81.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="417" y="101.8059">Wallet Backend</text><rect fill="#FEFECE" filter="url(#f1eig2f90vuw0f)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="410" y="567.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="417" y="587.2059">Wallet Backend</text><rect fill="#EEEEEE" filter="url(#f1eig2f90vuw0f)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="655" x="3" y="148.3999"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="658" y1="148.3999" y2="148.3999"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="658" y1="151.3999" y2="151.3999"/><rect fill="#EEEEEE" filter="url(#f1eig2f90vuw0f)" height="23.6" style="stroke: #000000; stroke-width: 2.0;" width="93" x="284" y="137.5999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="290" y="153.6769">Open Wallet</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="71" y1="192.7999" y2="192.7999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71" x2="71" y1="192.7999" y2="205.7999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="30" x2="71" y1="205.7999" y2="205.7999"/><polygon fill="#A80036" points="40,201.7999,30,205.7999,40,209.7999,36,205.7999" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="36" y="187.2769">Supply password</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="139" y="187.2769">pw</text><polygon fill="#A80036" points="281,231.3999,291,235.3999,281,239.3999,285,235.3999" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="287" y1="235.3999" y2="235.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="36" y="229.8769">open_wallet(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="108" y="229.8769">pw</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="126" y="229.8769">,</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="134" y="229.8769">other_params</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="219" y="229.8769">)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="293" x2="335" y1="264.9999" y2="264.9999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="335" x2="335" y1="264.9999" y2="277.9999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="335" y1="277.9999" y2="277.9999"/><polygon fill="#A80036" points="304,273.9999,294,277.9999,304,281.9999,300,277.9999" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="300" y="259.4769">Generate Random Token (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="4" x="453" y="259.4769">t</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="457" y="259.4769">)</text><polygon fill="#A80036" points="456,303.5999,466,307.5999,456,311.5999,460,307.5999" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="293" x2="462" y1="307.5999" y2="307.5999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="300" y="302.0769">open_Wallet(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="4" x="375" y="302.0769">t</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="379" y="302.0769">,</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="387" y="302.0769">pw</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="405" y="302.0769">)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="468" x2="510" y1="337.1999" y2="337.1999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="510" x2="510" y1="337.1999" y2="350.1999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="469" x2="510" y1="350.1999" y2="350.1999"/><polygon fill="#A80036" points="479,346.1999,469,350.1999,479,354.1999,475,350.1999" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="475" y="331.6769">Decrypt seed(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42" x="556" y="331.6769">req.pw</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="598" y="331.6769">) -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="622" y="331.6769">seed</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="468" x2="510" y1="379.7999" y2="379.7999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="510" x2="510" y1="379.7999" y2="392.7999"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="469" x2="510" y1="392.7999" y2="392.7999"/><polygon fill="#A80036" points="479,388.7999,469,392.7999,479,396.7999,475,392.7999" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="475" y="374.2769">Store</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="510" y="374.2769">seed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="539" y="374.2769">^</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="4" x="545" y="374.2769">t</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="553" y="374.2769">-&gt; (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="573" y="374.2769">seedT</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="610" y="374.2769">)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="293" x2="335" y1="422.4" y2="422.4"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="335" x2="335" y1="422.4" y2="435.4"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="294" x2="335" y1="435.4" y2="435.4"/><polygon fill="#A80036" points="304,431.4,294,435.4,304,439.4,300,435.4" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="300" y="416.877">Include</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="4" x="346" y="416.877">t</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="10" x="354" y="416.877">in</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="368" y="416.877">return_data</text><polygon fill="#A80036" points="40,461,30,465,40,469,36,465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="292" y1="465" y2="465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="46" y="459.477">Return (</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="92" y="459.477">return_data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="162" y="459.477">)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="71" y1="494.6" y2="494.6"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71" x2="71" y1="494.6" y2="507.6"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="30" x2="71" y1="507.6" y2="507.6"/><polygon fill="#A80036" points="40,503.6,30,507.6,40,511.6,36,507.6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="36" y="489.077">Store</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="78" x="71" y="489.077">return_data.t</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="153" y="489.077">as</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="4" x="171" y="489.077">t</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="71" y1="537.2" y2="537.2"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="71" x2="71" y1="537.2" y2="550.2"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="30" x2="71" y1="550.2" y2="550.2"/><polygon fill="#A80036" points="40,546.2,30,550.2,40,554.2,36,550.2" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="36" y="531.677">Supply</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="4" x="80" y="531.677">t</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="88" y="531.677">as parameter to all other API calls</text><!--
@startuml
actor "Client" as client
participant "Internal Rust API" as rustapi
participant "Wallet Backend" as backend

title Opening a Wallet (Directly Linked)

== Open Wallet ==
client -> client: Supply password **pw**
client -> rustapi: open_wallet(**pw**, **other_params**)
rustapi -> rustapi: Generate Random Token (**t**)
rustapi -> backend: open_Wallet(**t**, **pw**)
backend -> backend: Decrypt seed(**req.pw**) -> **seed**
backend -> backend: Store **seed**^**t** -> (**seedT**)
rustapi -> rustapi: Include **t** in **return_data**
rustapi -> client: Return (**return_data**)
client -> client: Store **return_data.t** as **t**
client -> client: Supply **t** as parameter to all other API calls
@enduml

PlantUML version 1.2019.06(Fri May 24 18:10:25 IST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 12.0.1+12
Operating System: Linux
OS Version: 5.1.11-arch1-1-ARCH
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>